<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author" content="">
<title>Bash one-liners</title>
<link rel="shortcut icon" href="../../../../../../img/favicon.ico" />
<link href="../../../../../../css/google-code-prettify/prettify.css" rel="stylesheet" />
<script src="../../../../../../js/google-code-prettify/prettify.js"></script>
<style>
pre {
  background-color: #FAFAFA;
  overflow: auto;
}
.head-block {
  background-color: #D3D3D3;
  padding: 1em;
}
.container{
  max-width: 48em;
  margin: 0 auto;
}
</style>
</head>
<body onload="prettyPrint()">

<div class="container">
<div class="head-block">
本文记录碰到的命令行使用例子
</div>

<h3>查看当前显示的Activity信息</h3>
<pre class="prettyprint">
adb shell dumpsys window windows | grep -E 'mCurrentFocus|mFocusedApp'
</pre>

<h3>查看某文件夹所占磁盘空间</h3>
<pre class="prettyprint">
du -hs /path/to/the/directory
</pre>

<h3><code class="prettyprint">svn blame</code>某特定行，如第42行</h3>
<pre class="prettyprint">
svn blame main.cpp | cat -n | grep 42
</pre>

<h3>移动一个无法打出其文件名的文件，假设此文件是当前目录下匹配*.txt的第一个文件</h3>
<pre class="prettyprint">
mv `ls *.txt | head -1` destination
</pre>

<h3>把res/layout目录下所有文件中的fill_parent替换成match_parent</h3>
<pre class="prettyprint">
<strike>find res/layout -type f -exec sed -i 's/fill_parent/match_parent/g' {} \;</strike>
find res/layout -type f -exec sed -i 's/fill_parent/match_parent/g' {} +
</pre>

<p>或者</p>
<pre class="prettyprint">
find res/layout -type f -print0 | xargs -0 sed -i 's/fill_parent/match_parent/g'
</pre>

<p>被划掉的命令有性能问题，见<a href="http://stackoverflow.com/questions/1583219/awk-sed-how-to-do-a-recursive-find-replace-of-a-string" target="_blank">这里</a>的讨论</p>

<h3>转换文本文件编码为 UTF-8</h3>
<pre class="prettyprint">
enca -L zh_CN -x UTF-8 file
</pre>

<div id="disqus_thread"></div>
<script type="text/javascript">
  var disqus_shortname = 'cameoh';
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
   })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
</body>
</html>
